{"version":3,"sources":["PersonForm.js","Filter.js","Button.js","Persons.js","services/Persons.js","Notification.js","App.js","index.js"],"names":["personform","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","filter","handleFilterChange","Button","onClick","handleClick","text","Numbers","personsToShow","map","person","name","number","handleDeletePerson","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setFilter","notification","setNotification","useEffect","PersonService","initialPersons","toLowerCase","includes","notificationMessage","setTimeout","Filter","event","target","PersonForm","preventDefault","some","window","confirm","find","concat","catch","error","console","log","Persons","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"yLA2BeA,EA1BI,SAACC,GAChB,OACI,uBAAMC,SAAUD,EAAME,UAAtB,UACI,wCAEA,uBACIC,MAAOH,EAAMI,QACbC,SAAUL,EAAMM,sBAIpB,0CAEA,uBACIH,MAASH,EAAMO,UACfF,SAAUL,EAAMQ,wBAIpB,8BACA,wBAAQC,KAAK,SAAb,uBCPGC,EAbA,SAACV,GAEZ,OACI,8BAEI,uBACIG,MAAOH,EAAMU,OACbL,SAAUL,EAAMW,wBCFjBC,EANA,SAACZ,GAAD,OACX,wBACIa,QAASb,EAAMc,YADnB,SAEEd,EAAMe,QCQGC,EATC,SAAChB,GACb,OACI,mCACKA,EAAMiB,cAAcC,KAAI,SAAAC,GAAM,OAC3B,+BAAqBA,EAAOC,KAA5B,IAAmCD,EAAOE,OAA1C,IAAkD,cAAC,EAAD,CAAQP,YAAc,kBAAMd,EAAMsB,mBAAmBH,EAAOI,KAAKR,KAAK,WAAxH,MAASI,EAAOI,U,gBCL1BC,EAAU,eAuBD,EArBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB9B,EAhBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc9B,EAXA,SAACN,EAAIO,GAEhB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBD,GAAMO,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS9B,EANA,SAAAN,GAEX,OADgBE,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BD,IAC5BI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCP9BK,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACO,KAIP,qBAAKC,UAAU,eAAf,SACKD,KCgHEE,EAjHH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOlC,EAAP,KAAgBqC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAO/B,EAAP,KAAkBmC,EAAlB,KACA,EAAkBJ,oBAAS,GAApBK,EAAP,oBACA,EAA4BL,mBAAS,IAArC,mBAAO5B,EAAP,KAAekC,EAAf,KACA,EAAwCN,mBAAS,MAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KAUAC,qBARa,WACXC,IAEGrB,MAAK,SAAAsB,GACJT,EAAWS,QAID,IAEhB,IAAMhC,EAAgB0B,EACpBJ,EACAA,EAAQ7B,QAAO,SAAAS,GAAM,OAAIA,EAAOC,KAAK8B,cAAcC,SAASzC,MAkExD0C,EAAsB,SAACjB,GAC3BW,EAAgBX,GACdkB,YAAW,WACTP,EAAgB,QACf,MAGP,OACE,gCACE,2CACE,cAAC,EAAD,CAAcX,QAASU,IACzB,wCACE,cAACS,EAAD,CAAQ5C,OAAQA,EAAQC,mBApBH,SAAC4C,GAC1BX,EAAUW,EAAMC,OAAOrD,MAAM+C,kBAoB3B,yCACE,cAACO,EAAD,CACEvD,UA/EU,SAACqD,IACjBA,EAAMG,iBAEFnB,EAAQoB,MAAK,SAAAxC,GAAM,OAAIA,EAAOC,OAAShB,OACkE,IAAvGwD,OAAOC,QAAP,UAAkBzD,EAAlB,6EACF4C,EACWT,EAAQuB,MAAK,SAAA3C,GAAM,OAAIA,EAAOC,OAAShB,KAASmB,GACzD,CACEH,KAAMhB,EACNiB,OAASd,IAEVoB,KAAKqB,IAEHrB,MAAK,SAAAsB,GACJT,EAAWS,OAEfG,EAAoB,YAAD,OAAahD,EAAb,aASvB4C,EALqB,CACnB5B,KAAMhB,EACNiB,OAASd,IAKRoB,MAAK,SAAAC,GACJY,EAAWD,EAAQwB,OAAOnC,IAC1BwB,EAAoB,SAAD,OAAUhD,EAAV,SAEpB4D,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMrC,SAASC,MAC3BuB,EAAoBa,EAAMrC,SAASC,KAAKoC,UAG9CxB,EAAW,IACXC,EAAa,KA2CPtC,QAASA,EACTE,iBA7BiB,SAACiD,GACxBd,EAAWc,EAAMC,OAAOrD,QA6BlBI,UAAWA,EACXC,mBAvBmB,SAAC+C,GAC1Bb,EAAaa,EAAMC,OAAOrD,UAwBxB,yCACE,cAACiE,EAAD,CAASnD,cAAeA,EAAeK,mBA9ClB,SAACC,IACc,IAApCqC,OAAOC,QAAQ,kBACjBb,EACQzB,GACPI,MAAK,WACJ,IAAI0C,EAAgB9B,EAAQuB,MAAK,SAAA3C,GAAM,OAAIA,EAAOI,KAAOA,KAAIH,KAC7DoB,EAAWD,EAAQ7B,QAAO,SAAAS,GAAM,OAAIA,EAAOI,KAAOA,MAClD6B,EAAoB,WAAD,OAAYiB,c,MCvEvCC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.edcc52ed.chunk.js","sourcesContent":["\r\nconst personform = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n            Name:\r\n            <input \r\n                value={props.newName} \r\n                onChange={props.handleNameChange} \r\n            />\r\n            </div>\r\n\r\n            <div>\r\n            Number:\r\n            <input\r\n                value = {props.newNumber}\r\n                onChange={props.handleNumberChange}\r\n            />\r\n            </div>\r\n\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default personform","\r\nconst filter = (props) => {\r\n\r\n    return( \r\n        <div>\r\n            \r\n            <input \r\n                value={props.filter}\r\n                onChange={props.handleFilterChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default filter","const Button = (props) => (\r\n    <button \r\n        onClick={props.handleClick}\r\n    >{props.text}</button>\r\n)\r\n\r\nexport default Button","import Button from \"./Button\"\r\n\r\nconst Numbers = (props) => {\r\n    return (\r\n        <>\r\n            {props.personsToShow.map(person =>\r\n                <li key={person.id}>{person.name} {person.number} <Button handleClick= {() => props.handleDeletePerson(person.id)} text=\"delete\"/> </li> \r\n            )}\r\n        </>\r\n    )\r\n}\r\nexport default Numbers","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div className='Notification'>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport PersonForm from \"./PersonForm\"\nimport Filter from \"./Filter\"\nimport Persons from \"./Persons\"\nimport PersonService from \"./services/Persons\"\nimport Notification from './Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll] = useState(false)\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const hook = () => {\n    PersonService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const personsToShow = showAll\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`) === true) {\n        PersonService\n          .update((persons.find(person => person.name === newName).id),\n          {\n            name: newName,\n            number : newNumber\n          })\n          .then(PersonService\n            .getAll()\n            .then(initialPersons => {\n              setPersons(initialPersons)\n            }))\n          notificationMessage(`Replaced ${newName} number`)\n      }\n    } else {\n\n      const numberObject = {\n        name: newName,\n        number : newNumber\n      }\n\n      PersonService\n        .create(numberObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          notificationMessage(`Added ${newName}!`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          notificationMessage(error.response.data.error)\n        })\n    }\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n  const handleDeletePerson = (id) => {\n    if (window.confirm(\"poistetaanko?\") === true) {\n      PersonService\n      .remove(id)\n      .then(() => {\n        let deletedPerson = persons.find(person => person.id === id).name\n        setPersons(persons.filter(person => person.id !== id))\n        notificationMessage(`Deleted ${deletedPerson}`)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const notificationMessage = (message) => {\n    setNotification(message)\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n        <Notification message={notification}/>\n      <h2>Filter</h2>\n        <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>Add New</h2>\n        <PersonForm \n          addPerson={addPerson} \n          newName={newName} \n          handleNameChange={handleNameChange} \n          newNumber={newNumber} \n          handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n        <Persons personsToShow={personsToShow} handleDeletePerson={handleDeletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}